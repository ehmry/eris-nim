include_rules

NIMDOC_FLAGS += --git.url:"https://codeberg.org/eris/nim-eris"
NIMDOC_FLAGS += --git.commit:`git describe --always`

DOCSDIR = ../htmldocs

NIMDOC_OUTPUTS += $(DOCSDIR)/_._/eris.html
NIMDOC_OUTPUTS += $(DOCSDIR)/_._/eris.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/cbor_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/cbor_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/coap_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/coap_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/composite_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/composite_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/filters.html
NIMDOC_OUTPUTS += $(DOCSDIR)/filters.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/dochack.js
NIMDOC_OUTPUTS += $(DOCSDIR)/http_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/http_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/memory_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/memory_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/nimdoc.out.css
NIMDOC_OUTPUTS += $(DOCSDIR)/private/syndicate_protocol.html
NIMDOC_OUTPUTS += $(DOCSDIR)/private/syndicate_protocol.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/syndicate_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/syndicate_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/theindex.html
NIMDOC_OUTPUTS += $(DOCSDIR)/tkrzw_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/tkrzw_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/url_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/url_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/cbor_stores.html
NIMDOC_OUTPUTS += $(DOCSDIR)/cbor_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/composite_stores.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/eriscmd/eriscbor.html
NIMDOC_OUTPUTS += $(DOCSDIR)/eriscmd/eriscbor.idx
NIMDOC_OUTPUTS += $(DOCSDIR)/tkrzw_stores.html

: eris.nim |> $(DIRENV) nim doc $(NIMDOC_FLAGS) --outdir:$(DOCSDIR) %f |> $(DOCSDIR)/%B.html $(DOCSDIR)/nimdoc.out.css
