<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<title>eris</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">
    <style>
      body {max-width: 900px; margin-top: 3em; margin-bottom: 5em;
      margin-left: auto; margin-right: auto; text-align: left; line-height:
      1.6; font-family: sans-serif; font-size: 12pt;}
      #logo {margin: auto; width: 70px; display: block;}
      .diagram {width: 80%; display: block; margin: auto; padding: 2.0rem;}
      h1 {text-align: center;}
      h2 {margin-top: 3em;}
      table {border-collapse: collapse; width: 100%; margin: 1.5rem 0;}
      td, th {border: 1px solid black; text-align: left; padding: 0.5rem;}
      th {background: goldenrod; font-weight: bold;}
      pre { max-width: 100%; overflow: auto; background:#f0f0f0; padding: 10px;}
      img { margin: auto; max-width: 70%; }
    </style>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
    <a href="https://eris.codeberg.page/">
      <svg id="logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 32 32">
	<desc>ERIS logo, &#x2BF0;</desc>
	<defs>
	  <clipPath id="inside">
	    <circle cx="16" cy="16" r="12"/>
	  </clipPath>
	</defs>
	<circle cx="16" cy="16" r="14" fill="goldenrod" stroke="black" stroke-width="2"/>
	<path id="symbol" d="M 6,6 A 8,8 0 0,1 6,26 M 16,1 V 31 M 26,6 A 8,8 0 0,0 26,26" style="fill: none; stroke: black; stroke-width: 2" clip-path="url(#inside)" />
      </svg>
    </a>
  <div class="container">
    <h1 class="title">src/eris</h1>
    <div class="row">
  <div class="three columns">
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#BlockStatus"
    title="BlockStatus = enum
  unknown, verified, plaintext">BlockStatus</a></li>
  <li><a class="reference" href="#ChunkSize"
    title="ChunkSize = enum
  bs1k = 1024,              ## 1 KiB
  bs32k = 32768              ## 32 KiB">ChunkSize</a></li>
  <li><a class="reference" href="#DiscardStore"
    title="DiscardStore {.final.} = ref object of ErisStoreObj">DiscardStore</a></li>
  <li><a class="reference" href="#ErisCap"
    title="ErisCap = object
  pair*: Pair
  level*: uint8
  chunkSize*: ChunkSize">ErisCap</a></li>
  <li><a class="reference" href="#ErisIngest"
    title="ErisIngest = ref ErisIngestObj">ErisIngest</a></li>
  <li><a class="reference" href="#ErisStore"
    title="ErisStore = ref ErisStoreObj">ErisStore</a></li>
  <li><a class="reference" href="#ErisStoreObj"
    title="ErisStoreObj = object of RootObj
  nil">ErisStoreObj</a></li>
  <li><a class="reference" href="#ErisStream"
    title="ErisStream = ref ErisStreamObj">ErisStream</a></li>
  <li><a class="reference" href="#FutureBlock"
    title="FutureBlock = ref FutureBlockObj">FutureBlock</a></li>
  <li><a class="reference" href="#FutureGet"
    title="FutureGet = ref FutureGetObj">FutureGet</a></li>
  <li><a class="reference" href="#FuturePut"
    title="FuturePut = ref FuturePutObj">FuturePut</a></li>
  <li><a class="reference" href="#Key"
    title="Key = object
  bytes*: array[32, byte]">Key</a></li>
  <li><a class="reference" href="#Mode"
    title="Mode = enum
  uniqueMode, convergentMode">Mode</a></li>
  <li><a class="reference" href="#Operation"
    title="Operation = enum
  Get, Put">Operation</a></li>
  <li><a class="reference" href="#Operations"
    title="Operations = set[Operation]">Operations</a></li>
  <li><a class="reference" href="#Reference"
    title="Reference = object
  bytes*: array[32, byte]">Reference</a></li>
  <li><a class="reference" href="#Secret"
    title="Secret = object
  bytes*: array[32, byte]">Secret</a></li>
  <li><a class="reference" href="#TreeLevel"
    title="TreeLevel = uint8">TreeLevel</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#erisCborTag"
    title="erisCborTag = 276">erisCborTag</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">$
      <li><a class="reference" href="#%24_2"
    title="`$`(cap): string">`$`(cap): string</a></li>
  <li><a class="reference" href="#%24_3"
    title="`$`(store): string">`$`(store): string</a></li>
  <li><a class="reference" href="#%24"
    title="`$`(x: Reference | Key | Secret): string">`$`(x: Reference | Key | Secret): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">*
      <li><a class="reference" href="#%2A%2CT%2CChunkSize"
    title="`*`[T: SomeUnsignedInt](x: T; bs: ChunkSize): T">`*`[T: SomeUnsignedInt](x: T; bs: ChunkSize): T</a></li>

  </ul>
  <ul class="simple nested-toc-section">==
      <li><a class="reference" href="#%3D%3D%2CErisCap%2CErisCap"
    title="`==`(x, y: ErisCap): bool">`==`(x, y: ErisCap): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">addCallback
      <li><a class="reference" href="#addCallback%2CFutureBlock%2Cproc%29"
    title="addCallback(blk: FutureBlock; cb: proc () {.closure, gcsafe.})">addCallback(blk: FutureBlock; cb: proc () {.closure, gcsafe.})</a></li>
  <li><a class="reference" href="#addCallback%2CFuture%2CFutureBlock%2Cproc%29"
    title="addCallback(fut: Future; blk: FutureBlock; cb: proc () {.closure, gcsafe.})">addCallback(fut: Future; blk: FutureBlock; cb: proc () {.closure, gcsafe.})</a></li>

  </ul>
  <ul class="simple nested-toc-section">append
      <li><a class="reference" href="#append%2CErisIngest%2C"
    title="append(ingest: ErisIngest; data: string | seq[byte]): owned(Future[void])">append(ingest: ErisIngest; data: string | seq[byte]): owned(Future[void])</a></li>
  <li><a class="reference" href="#append%2CErisIngest%2CStream"
    title="append(ingest: ErisIngest; stream: Stream): owned(Future[void])">append(ingest: ErisIngest; stream: Stream): owned(Future[void])</a></li>

  </ul>
  <ul class="simple nested-toc-section">arity
      <li><a class="reference" href="#arity%2CChunkSize"
    title="arity(bs: ChunkSize): int">arity(bs: ChunkSize): int</a></li>

  </ul>
  <ul class="simple nested-toc-section">assertVerified
      <li><a class="reference" href="#assertVerified%2CFutureBlock"
    title="assertVerified(blk: FutureBlock)">assertVerified(blk: FutureBlock)</a></li>

  </ul>
  <ul class="simple nested-toc-section">atEnd
      <li><a class="reference" href="#atEnd%2CErisStream"
    title="atEnd(s: ErisStream): bool">atEnd(s: ErisStream): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">buffer
      <li><a class="reference" href="#buffer%2CFutureBlock"
    title="buffer(blk: FutureBlock): pointer">buffer(blk: FutureBlock): pointer</a></li>

  </ul>
  <ul class="simple nested-toc-section">bytes
      <li><a class="reference" href="#bytes"
    title="bytes(cap): seq[byte]">bytes(cap): seq[byte]</a></li>

  </ul>
  <ul class="simple nested-toc-section">cap
      <li><a class="reference" href="#cap%2CErisIngest"
    title="cap(ingest: ErisIngest): Future[ErisCap]">cap(ingest: ErisIngest): Future[ErisCap]</a></li>
  <li><a class="reference" href="#cap%2CErisStream"
    title="cap(s: ErisStream): ErisCap">cap(s: ErisStream): ErisCap</a></li>

  </ul>
  <ul class="simple nested-toc-section">chunkSize
      <li><a class="reference" href="#chunkSize%2CFutureBlock"
    title="chunkSize(blk: FutureBlock): ChunkSize">chunkSize(blk: FutureBlock): ChunkSize</a></li>
  <li><a class="reference" href="#chunkSize%2CErisIngest"
    title="chunkSize(ingest: ErisIngest): ChunkSize">chunkSize(ingest: ErisIngest): ChunkSize</a></li>

  </ul>
  <ul class="simple nested-toc-section">close
      <li><a class="reference" href="#close%2CErisStream"
    title="close(s: ErisStream)">close(s: ErisStream)</a></li>

  </ul>
  <ul class="simple nested-toc-section">complete
      <li><a class="reference" href="#complete%2CFutureBlock"
    title="complete(blk: FutureBlock)">complete(blk: FutureBlock)</a></li>
  <li><a class="reference" href="#complete%2CFutureGet%2Csinkseq%5Bbyte%5D"
    title="complete(blk: FutureGet; buf: sink seq[byte]; status = unknown)">complete(blk: FutureGet; buf: sink seq[byte]; status = unknown)</a></li>
  <li><a class="reference" href="#complete%2CFutureGet%2Cpointer%2CNatural"
    title="complete(blk: FutureGet; src: pointer; len: Natural; status = unknown)">complete(blk: FutureGet; src: pointer; len: Natural; status = unknown)</a></li>
  <li><a class="reference" href="#complete%2CFutureGet%2CopenArray%5BT%5D"
    title="complete[T: byte | char](blk: FutureGet; buf: openArray[T]; status = unknown)">complete[T: byte | char](blk: FutureGet; buf: openArray[T]; status = unknown)</a></li>

  </ul>
  <ul class="simple nested-toc-section">copy
      <li><a class="reference" href="#copy%2CFutureBlock%2Cpointer%2CNatural"
    title="copy(blk: FutureBlock; dst: pointer; len: Natural)">copy(blk: FutureBlock; dst: pointer; len: Natural)</a></li>

  </ul>
  <ul class="simple nested-toc-section">decode
      <li><a class="reference" href="#decode%2C%2C"
    title="decode(store; cap): Future[seq[byte]]">decode(store; cap): Future[seq[byte]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">div
      <li><a class="reference" href="#div%2CT%2CChunkSize"
    title="`div`[T: SomeUnsignedInt](x: T; bs: ChunkSize): T">`div`[T: SomeUnsignedInt](x: T; bs: ChunkSize): T</a></li>

  </ul>
  <ul class="simple nested-toc-section">dump
      <li><a class="reference" href="#dump%2CErisStream%2CStream"
    title="dump(s: ErisStream; stream: Stream): owned(Future[void])">dump(s: ErisStream; stream: Stream): owned(Future[void])</a></li>

  </ul>
  <ul class="simple nested-toc-section">encode
      <li><a class="reference" href="#encode%2C%2CChunkSize%2CStream"
    title="encode(store; chunkSize: ChunkSize; content: Stream; mode = uniqueMode): Future[
    ErisCap]">encode(store; chunkSize: ChunkSize; content: Stream; mode = uniqueMode): Future[
    ErisCap]</a></li>
  <li><a class="reference" href="#encode%2C%2CChunkSize%2CStream%2CSecret"
    title="encode(store; chunkSize: ChunkSize; content: Stream; secret: Secret): Future[
    ErisCap]">encode(store; chunkSize: ChunkSize; content: Stream; secret: Secret): Future[
    ErisCap]</a></li>
  <li><a class="reference" href="#encode%2C%2CChunkSize%2Cstring"
    title="encode(store; chunkSize: ChunkSize; content: string; mode = uniqueMode): Future[
    ErisCap]">encode(store; chunkSize: ChunkSize; content: string; mode = uniqueMode): Future[
    ErisCap]</a></li>
  <li><a class="reference" href="#encode%2C%2CStream"
    title="encode(store; content: Stream; mode = uniqueMode): Future[ErisCap]">encode(store; content: Stream; mode = uniqueMode): Future[ErisCap]</a></li>

  </ul>
  <ul class="simple nested-toc-section">erisCap
      <li><a class="reference" href="#erisCap%2Cstring%2CChunkSize"
    title="erisCap(content: string; chunkSize: ChunkSize): ErisCap">erisCap(content: string; chunkSize: ChunkSize): ErisCap</a></li>

  </ul>
  <ul class="simple nested-toc-section">fail
      <li><a class="reference" href="#fail%2CFutureBlock%2Cref.Exception"
    title="fail(blk: FutureBlock; e: ref Exception)">fail(blk: FutureBlock; e: ref Exception)</a></li>

  </ul>
  <ul class="simple nested-toc-section">failed
      <li><a class="reference" href="#failed%2CFutureBlock"
    title="failed(blk: FutureBlock): bool">failed(blk: FutureBlock): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">fromBase32
      <li><a class="reference" href="#fromBase32%2CT%2Cstring"
    title="fromBase32[T: Reference | Key | Secret](v: var T; s: string): bool">fromBase32[T: Reference | Key | Secret](v: var T; s: string): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">get
      <li><a class="reference" href="#get%2C%2CPair%2CTreeLevel%2CChunkSize"
    title="get(store; pair: Pair; level: TreeLevel; bs: ChunkSize): Future[seq[byte]]">get(store; pair: Pair; level: TreeLevel; bs: ChunkSize): Future[seq[byte]]</a></li>
  <li><a class="reference" href="#get%2C%2CReference%2CFutureGet"
    title="get(store; ref: Reference; blk: FutureGet)">get(store; ref: Reference; blk: FutureGet)</a></li>

  </ul>
  <ul class="simple nested-toc-section">getAll
      <li><a class="reference" href="#getAll%2CErisStore%2CErisCap"
    title="getAll(store: ErisStore; cap: ErisCap): Future[void]">getAll(store: ErisStore; cap: ErisCap): Future[void]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getBlock
      <li><a class="reference" href="#getBlock%2CErisStore%2CReference"
    title="getBlock(store: ErisStore; ref: Reference): Future[seq[byte]]">getBlock(store: ErisStore; ref: Reference): Future[seq[byte]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getPosition
      <li><a class="reference" href="#getPosition%2CErisStream"
    title="getPosition(s: ErisStream): BiggestUInt">getPosition(s: ErisStream): BiggestUInt</a></li>

  </ul>
  <ul class="simple nested-toc-section">hash
      <li><a class="reference" href="#hash"
    title="hash(cap): Hash">hash(cap): Hash</a></li>
  <li><a class="reference" href="#hash%2CReference"
    title="hash(r: Reference): Hash">hash(r: Reference): Hash</a></li>

  </ul>
  <ul class="simple nested-toc-section">length
      <li><a class="reference" href="#length%2CErisStream"
    title="length(s: ErisStream): Future[BiggestUInt]">length(s: ErisStream): Future[BiggestUInt]</a></li>

  </ul>
  <ul class="simple nested-toc-section">loadBlock
      <li><a class="reference" href="#loadBlock%2CErisStream%2CBiggestUInt"
    title="loadBlock(s: ErisStream; bNum: BiggestUInt): Future[void]">loadBlock(s: ErisStream; bNum: BiggestUInt): Future[void]</a></li>

  </ul>
  <ul class="simple nested-toc-section">moveBytes
      <li><a class="reference" href="#moveBytes%2CFutureBlock"
    title="moveBytes(blk: FutureBlock): owned seq[byte]">moveBytes(blk: FutureBlock): owned seq[byte]</a></li>

  </ul>
  <ul class="simple nested-toc-section">newDiscardStore
      <li><a class="reference" href="#newDiscardStore"
    title="newDiscardStore(): DiscardStore">newDiscardStore(): DiscardStore</a></li>

  </ul>
  <ul class="simple nested-toc-section">newErisIngest
      <li><a class="reference" href="#newErisIngest%2CErisStore"
    title="newErisIngest(store: ErisStore; chunkSize = bs32k; mode = uniqueMode): ErisIngest">newErisIngest(store: ErisStore; chunkSize = bs32k; mode = uniqueMode): ErisIngest</a></li>
  <li><a class="reference" href="#newErisIngest%2CErisStore%2CSecret"
    title="newErisIngest(store: ErisStore; chunkSize = bs32k; secret: Secret): ErisIngest">newErisIngest(store: ErisStore; chunkSize = bs32k; secret: Secret): ErisIngest</a></li>

  </ul>
  <ul class="simple nested-toc-section">newErisStream
      <li><a class="reference" href="#newErisStream%2C%2C"
    title="newErisStream(store; cap): owned ErisStream">newErisStream(store; cap): owned ErisStream</a></li>

  </ul>
  <ul class="simple nested-toc-section">newFutureGet
      <li><a class="reference" href="#newFutureGet%2CChunkSize"
    title="newFutureGet(bs: ChunkSize): FutureGet">newFutureGet(bs: ChunkSize): FutureGet</a></li>
  <li><a class="reference" href="#newFutureGet%2CReference%2CChunkSize"
    title="newFutureGet(ref: Reference; bs: ChunkSize): FutureGet">newFutureGet(ref: Reference; bs: ChunkSize): FutureGet</a></li>

  </ul>
  <ul class="simple nested-toc-section">newFuturePut
      <li><a class="reference" href="#newFuturePut%2CChunkSize"
    title="newFuturePut(bs: ChunkSize): FuturePut">newFuturePut(bs: ChunkSize): FuturePut</a></li>
  <li><a class="reference" href="#newFuturePut%2CReference%2CChunkSize"
    title="newFuturePut(ref: Reference; bs: ChunkSize): FuturePut">newFuturePut(ref: Reference; bs: ChunkSize): FuturePut</a></li>
  <li><a class="reference" href="#newFuturePut%2CopenArray%5BT%5D"
    title="newFuturePut[T: byte | char](buffer: openArray[T]): FuturePut">newFuturePut[T: byte | char](buffer: openArray[T]): FuturePut</a></li>

  </ul>
  <ul class="simple nested-toc-section">notFound
      <li><a class="reference" href="#notFound%2CFutureBlock%2Cstring"
    title="notFound(blk: FutureBlock; msg = &quot;&quot;)">notFound(blk: FutureBlock; msg = &quot;&quot;)</a></li>

  </ul>
  <ul class="simple nested-toc-section">padToNextBlock
      <li><a class="reference" href="#padToNextBlock%2CErisIngest%2Cuint8"
    title="padToNextBlock(ingest: ErisIngest; pad = 0x80'u8): Future[void]">padToNextBlock(ingest: ErisIngest; pad = 0x80'u8): Future[void]</a></li>

  </ul>
  <ul class="simple nested-toc-section">parseCap
      <li><a class="reference" href="#parseCap%2CopenArray%5BT%5D"
    title="parseCap[T: char | byte](bin: openArray[T]): ErisCap">parseCap[T: char | byte](bin: openArray[T]): ErisCap</a></li>

  </ul>
  <ul class="simple nested-toc-section">parseErisUrn
      <li><a class="reference" href="#parseErisUrn%2Cstring"
    title="parseErisUrn(urn: string): ErisCap">parseErisUrn(urn: string): ErisCap</a></li>

  </ul>
  <ul class="simple nested-toc-section">position
      <li><a class="reference" href="#position%2CErisIngest"
    title="position(ingest: ErisIngest): BiggestUInt">position(ingest: ErisIngest): BiggestUInt</a></li>

  </ul>
  <ul class="simple nested-toc-section">read
      <li><a class="reference" href="#read%2CErisStream%2Cint"
    title="read(s: ErisStream; size: int): Future[seq[byte]]">read(s: ErisStream; size: int): Future[seq[byte]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">readAll
      <li><a class="reference" href="#readAll%2CErisStream"
    title="readAll(s: ErisStream): Future[seq[byte]]">readAll(s: ErisStream): Future[seq[byte]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">readBuffer
      <li><a class="reference" href="#readBuffer%2CErisStream%2Cpointer%2Cint"
    title="readBuffer(s: ErisStream; buffer: pointer; bufLen: int): Future[int]">readBuffer(s: ErisStream; buffer: pointer; bufLen: int): Future[int]</a></li>

  </ul>
  <ul class="simple nested-toc-section">readDataStr
      <li><a class="reference" href="#readDataStr%2CErisStream%2Cstring%2CSlice%5Bint%5D"
    title="readDataStr(s: ErisStream; buffer: var string; slice: Slice[int]): Future[int]">readDataStr(s: ErisStream; buffer: var string; slice: Slice[int]): Future[int]</a></li>

  </ul>
  <ul class="simple nested-toc-section">readLine
      <li><a class="reference" href="#readLine%2CErisStream"
    title="readLine(s: ErisStream): Future[string]">readLine(s: ErisStream): Future[string]</a></li>

  </ul>
  <ul class="simple nested-toc-section">recommendedChunkSize
      <li><a class="reference" href="#recommendedChunkSize%2CNatural"
    title="recommendedChunkSize(dataLength: Natural): ChunkSize">recommendedChunkSize(dataLength: Natural): ChunkSize</a></li>

  </ul>
  <ul class="simple nested-toc-section">ref
      <li><a class="reference" href="#ref%2CFutureBlock"
    title="`ref`(blk: FutureBlock): Reference">`ref`(blk: FutureBlock): Reference</a></li>

  </ul>
  <ul class="simple nested-toc-section">ref=
      <li><a class="reference" href="#ref%3D%2CFutureBlock%2CReference"
    title="ref=(blk: FutureBlock; r: Reference)">ref=(blk: FutureBlock; r: Reference)</a></li>

  </ul>
  <ul class="simple nested-toc-section">reference
      <li><a class="reference" href="#reference%2CopenArray%5BT%5D"
    title="reference[T: byte | char](data: openArray[T]): Reference">reference[T: byte | char](data: openArray[T]): Reference</a></li>

  </ul>
  <ul class="simple nested-toc-section">references
      <li><a class="reference" href="#references%2CErisStore%2CErisCap"
    title="references(store: ErisStore; cap: ErisCap): Future[HashSet[Reference]]">references(store: ErisStore; cap: ErisCap): Future[HashSet[Reference]]</a></li>

  </ul>
  <ul class="simple nested-toc-section">reinit
      <li><a class="reference" href="#reinit%2CErisIngest"
    title="reinit(ingest: ErisIngest)">reinit(ingest: ErisIngest)</a></li>

  </ul>
  <ul class="simple nested-toc-section">reopen
      <li><a class="reference" href="#reopen%2CErisIngest%2CErisCap"
    title="reopen(ingest: ErisIngest; cap: ErisCap): owned(Future[void])">reopen(ingest: ErisIngest; cap: ErisCap): owned(Future[void])</a></li>

  </ul>
  <ul class="simple nested-toc-section">reopenErisIngest
      <li><a class="reference" href="#reopenErisIngest%2CErisStore%2CErisCap"
    title="reopenErisIngest(store: ErisStore; cap: ErisCap; mode = uniqueMode): Future[
    ErisIngest]">reopenErisIngest(store: ErisStore; cap: ErisCap; mode = uniqueMode): Future[
    ErisIngest]</a></li>
  <li><a class="reference" href="#reopenErisIngest%2CErisStore%2CErisCap%2CSecret"
    title="reopenErisIngest(store: ErisStore; cap: ErisCap; secret: Secret): Future[
    ErisIngest]">reopenErisIngest(store: ErisStore; cap: ErisCap; secret: Secret): Future[
    ErisIngest]</a></li>

  </ul>
  <ul class="simple nested-toc-section">setPosition
      <li><a class="reference" href="#setPosition%2CErisStream%2CBiggestUInt"
    title="setPosition(s: ErisStream; pos: BiggestUInt)">setPosition(s: ErisStream; pos: BiggestUInt)</a></li>

  </ul>
  <ul class="simple nested-toc-section">toBase32
      <li><a class="reference" href="#toBase32"
    title="toBase32(cap): string">toBase32(cap): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">toByte
      <li><a class="reference" href="#toByte%2CChunkSize"
    title="toByte(bs: ChunkSize): uint8">toByte(bs: ChunkSize): uint8</a></li>

  </ul>
  <ul class="simple nested-toc-section">toBytes
      <li><a class="reference" href="#toBytes%2CFutureBlock"
    title="toBytes(blk: FutureBlock): owned seq[byte]">toBytes(blk: FutureBlock): owned seq[byte]</a></li>

  </ul>
  <ul class="simple nested-toc-section">toChar
      <li><a class="reference" href="#toChar%2CChunkSize"
    title="toChar(bs: ChunkSize): char">toChar(bs: ChunkSize): char</a></li>

  </ul>
  <ul class="simple nested-toc-section">verified
      <li><a class="reference" href="#verified%2CFutureBlock"
    title="verified(blk: FutureBlock): bool">verified(blk: FutureBlock): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">verify
      <li><a class="reference" href="#verify%2CFutureBlock"
    title="verify(blk: FutureBlock): bool">verify(blk: FutureBlock): bool</a></li>
  <li><a class="reference" href="#verify%2CFutureBlock%2CReference"
    title="verify(blk: FutureBlock; ref: Reference): bool">verify(blk: FutureBlock; ref: Reference): bool</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#14" id="64">Methods</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">close
      <li><a class="reference" href="#close.e"
    title="close(store)">close(store)</a></li>

  </ul>
  <ul class="simple nested-toc-section">get
      <li><a class="reference" href="#get.e%2C%2CFutureGet"
    title="get(store; blk: FutureGet)">get(store; blk: FutureGet)</a></li>

  </ul>
  <ul class="simple nested-toc-section">hasBlock
      <li><a class="reference" href="#hasBlock.e%2C%2CReference%2CChunkSize"
    title="hasBlock(store; r: Reference; bs: ChunkSize): Future[bool]">hasBlock(store; r: Reference; bs: ChunkSize): Future[bool]</a></li>

  </ul>
  <ul class="simple nested-toc-section">id
      <li><a class="reference" href="#id.e"
    title="id(store): string">id(store): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">put
      <li><a class="reference" href="#put.e%2C%2CFuturePut"
    title="put(store; blk: FuturePut)">put(store; blk: FuturePut)</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">asFuture
      <li><a class="reference" href="#asFuture.t%2CFutureBlock"
    title="asFuture(blk: FutureBlock): untyped">asFuture(blk: FutureBlock): untyped</a></li>
  <li><a class="reference" href="#asFuture.t%2CFutureBlock%2Cuntyped"
    title="asFuture(blk: FutureBlock; body: untyped): untyped">asFuture(blk: FutureBlock; body: untyped): untyped</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L1"
class="link-seesrc" target="_blank">Source</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>This module provides the basic procedures and types for ERIS encoding and decoding. Encoding and decoding always requires an <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisStore</span></span></tt> receiver object and store operations are asynchronous.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">ErisStore</span></span></tt> objects are implemented in additional modules.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">eris</span>
<span class="Keyword">import</span> <span class="Identifier">eris</span><span class="Operator">/</span><span class="Identifier">memory_stores</span>
<span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">asyncdispatch</span><span class="Punctuation">,</span> <span class="Identifier">streams</span><span class="Punctuation">]</span>

<span class="Keyword">let</span>
  <span class="Identifier">text</span> <span class="Operator">=</span> <span class="StringLit">&quot;Hello world!&quot;</span>
  <span class="Identifier">store</span> <span class="Operator">=</span> <span class="Identifier">newMemoryStore</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">capA</span> <span class="Operator">=</span> <span class="Identifier">waitFor</span> <span class="Identifier">encode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">newStringStream</span><span class="Punctuation">(</span><span class="Identifier">text</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
  <span class="Identifier">capB</span> <span class="Operator">=</span> <span class="Identifier">waitFor</span> <span class="Identifier">encode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">newStringStream</span><span class="Punctuation">(</span><span class="Identifier">text</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">convergentMode</span><span class="Punctuation">)</span>
  <span class="Identifier">capC</span> <span class="Operator">=</span> <span class="Identifier">waitFor</span> <span class="Identifier">encode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">newStringStream</span><span class="Punctuation">(</span><span class="Identifier">text</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">convergentMode</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">capA</span> <span class="Operator">!=</span> <span class="Identifier">capB</span>
<span class="Identifier">assert</span> <span class="Identifier">capB</span> <span class="Operator">==</span> <span class="Identifier">capC</span>
<span class="Identifier">assert</span> <span class="Identifier">waitFor</span><span class="Punctuation">(</span><span class="Identifier">decode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">capA</span><span class="Punctuation">)</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">waitFor</span><span class="Punctuation">(</span><span class="Identifier">decode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">capB</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">waitFor</span><span class="Punctuation">(</span><span class="Identifier">decode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">capB</span><span class="Punctuation">)</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">waitFor</span><span class="Punctuation">(</span><span class="Identifier">decode</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">,</span> <span class="Identifier">capC</span><span class="Punctuation">)</span><span class="Punctuation">)</span></pre>An <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisStore</span></span></tt> is implemented by <tt class="docutils literal"><span class="pre"><span class="Identifier">get</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">put</span></span></tt> methods. Both operate on a variant of the <tt class="docutils literal"><span class="pre"><span class="Identifier">FutureBlock</span></span></tt> type which holds a buffer, parameters, and callbacks.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">eris</span>
<span class="Keyword">import</span> <span class="Identifier">eris</span><span class="Operator">/</span><span class="Identifier">memory_stores</span>
<span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">asyncdispatch</span><span class="Punctuation">,</span> <span class="Identifier">streams</span><span class="Punctuation">]</span>

<span class="Keyword">type</span> <span class="Identifier">LoggerStore</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">final</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">ErisStore</span>
  <span class="Identifier">other</span><span class="Punctuation">:</span> <span class="Identifier">ErisStore</span>

<span class="Keyword">proc</span> <span class="Identifier">newLogger</span><span class="Punctuation">(</span><span class="Identifier">s</span><span class="Punctuation">:</span> <span class="Identifier">ErisStore</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">LoggerStore</span> <span class="Operator">=</span>
  <span class="Identifier">LoggerStore</span><span class="Punctuation">(</span><span class="Identifier">other</span><span class="Punctuation">:</span> <span class="Identifier">s</span><span class="Punctuation">)</span>

<span class="Keyword">method</span> <span class="Identifier">get</span><span class="Punctuation">(</span><span class="Identifier">logger</span><span class="Punctuation">:</span> <span class="Identifier">LoggerStore</span><span class="Punctuation">;</span> <span class="Identifier">fut</span><span class="Punctuation">:</span> <span class="Identifier">FutureGet</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">addCallback</span><span class="Punctuation">:</span>
    <span class="Keyword">if</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">failed</span><span class="Punctuation">:</span>
      <span class="Identifier">stderr</span><span class="Operator">.</span><span class="Identifier">writeLine</span><span class="Punctuation">(</span><span class="StringLit">&quot;failed to get &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">chunkSize</span><span class="Operator">.</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="StringLit">&quot; byte chunk &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Punctuation">`</span><span class="Keyword">ref</span><span class="Punctuation">`</span><span class="Punctuation">)</span>
    <span class="Keyword">else</span><span class="Punctuation">:</span>
      <span class="Identifier">stderr</span><span class="Operator">.</span><span class="Identifier">writeLine</span><span class="Punctuation">(</span><span class="StringLit">&quot;got &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">chunkSize</span><span class="Operator">.</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="StringLit">&quot; byte chunk &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Punctuation">`</span><span class="Keyword">ref</span><span class="Punctuation">`</span><span class="Punctuation">)</span>
  <span class="Identifier">get</span><span class="Punctuation">(</span><span class="Identifier">logger</span><span class="Operator">.</span><span class="Identifier">other</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Punctuation">)</span>

<span class="Keyword">method</span> <span class="Identifier">put</span><span class="Punctuation">(</span><span class="Identifier">logger</span><span class="Punctuation">:</span> <span class="Identifier">LoggerStore</span><span class="Punctuation">;</span> <span class="Identifier">fut</span><span class="Punctuation">:</span> <span class="Identifier">FuturePut</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">addCallback</span><span class="Punctuation">:</span>
    <span class="Keyword">if</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">failed</span><span class="Punctuation">:</span>
      <span class="Identifier">stderr</span><span class="Operator">.</span><span class="Identifier">writeLine</span><span class="Punctuation">(</span><span class="StringLit">&quot;failed to put &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">chunkSize</span><span class="Operator">.</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="StringLit">&quot; byte chunk &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Punctuation">`</span><span class="Keyword">ref</span><span class="Punctuation">`</span><span class="Punctuation">)</span>
    <span class="Keyword">else</span><span class="Punctuation">:</span>
      <span class="Identifier">stderr</span><span class="Operator">.</span><span class="Identifier">writeLine</span><span class="Punctuation">(</span><span class="StringLit">&quot;put &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Identifier">chunkSize</span><span class="Operator">.</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="StringLit">&quot; byte chunk &quot;</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Operator">.</span><span class="Punctuation">`</span><span class="Keyword">ref</span><span class="Punctuation">`</span><span class="Punctuation">)</span>
  <span class="Identifier">put</span><span class="Punctuation">(</span><span class="Identifier">logger</span><span class="Operator">.</span><span class="Identifier">other</span><span class="Punctuation">,</span> <span class="Identifier">fut</span><span class="Punctuation">)</span>

<span class="Keyword">let</span>
  <span class="Identifier">store</span> <span class="Operator">=</span> <span class="Identifier">newMemoryStore</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">logger</span> <span class="Operator">=</span> <span class="Identifier">newLogger</span><span class="Punctuation">(</span><span class="Identifier">store</span><span class="Punctuation">)</span>
  <span class="Identifier">cap</span> <span class="Operator">=</span> <span class="Identifier">waitFor</span> <span class="Identifier">encode</span><span class="Punctuation">(</span><span class="Identifier">logger</span><span class="Punctuation">,</span> <span class="Identifier">newStringStream</span><span class="Punctuation">(</span><span class="StringLit">&quot;Hail ERIS!&quot;</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Keyword">discard</span> <span class="Identifier">waitFor</span> <span class="Identifier">decode</span><span class="Punctuation">(</span><span class="Identifier">logger</span><span class="Punctuation">,</span> <span class="Identifier">cap</span><span class="Punctuation">)</span></pre></p>
  <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<div id="BlockStatus">
<dt><pre><a href="eris.html#BlockStatus"><span class="Identifier">BlockStatus</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">unknown</span><span class="Other">,</span> <span class="Identifier">verified</span><span class="Other">,</span> <span class="Identifier">plaintext</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L216"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ChunkSize">
<dt><pre><a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">bs1k</span> <span class="Other">=</span> <span class="DecNumber">1024</span><span class="Other">,</span>              <span class="Comment">## 1 KiB</span>
  <span class="Identifier">bs32k</span> <span class="Other">=</span> <span class="DecNumber">32768</span>              <span class="Comment">## 32 KiB</span></pre></dt>
<dd>

Valid chunk sizes.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L78"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="DiscardStore">
<dt><pre><a href="eris.html#DiscardStore"><span class="Identifier">DiscardStore</span></a> {.<span class="Identifier">final</span>.} <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="eris.html#ErisStoreObj"><span class="Identifier">ErisStoreObj</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L520"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ErisCap">
<dt><pre><a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">pair</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Pair</span>
  <span class="Identifier">level</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint8</span>
  <span class="Identifier">chunkSize</span><span class="Operator">*</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a>
</pre></dt>
<dd>

A capability for retrieving ERIS encoded data.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L92"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ErisIngest">
<dt><pre><a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">ErisIngestObj</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L704"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ErisStore">
<dt><pre><a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <a href="eris.html#ErisStoreObj"><span class="Identifier">ErisStoreObj</span></a></pre></dt>
<dd>

Object for interfacing ERIS storage.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L449"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ErisStoreObj">
<dt><pre><a href="eris.html#ErisStoreObj"><span class="Identifier">ErisStoreObj</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">RootObj</span>
  <span class="Keyword">nil</span>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L450"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ErisStream">
<dt><pre><a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">ErisStreamObj</span></pre></dt>
<dd>

An object representing data streams.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L534"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="FutureBlock">
<dt><pre><a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">FutureBlockObj</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L217"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="FutureGet">
<dt><pre><a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">FutureGetObj</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L228"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="FuturePut">
<dt><pre><a href="eris.html#FuturePut"><span class="Identifier">FuturePut</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">FuturePutObj</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L232"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="Key">
<dt><pre><a href="eris.html#Key"><span class="Identifier">Key</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">bytes</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">32</span><span class="Other">,</span> <span class="Identifier">byte</span><span class="Other">]</span>
</pre></dt>
<dd>

Key for decrypting a chunk.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L85"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="Mode">
<dt><pre><a href="eris.html#Mode"><span class="Identifier">Mode</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">uniqueMode</span><span class="Other">,</span> <span class="Identifier">convergentMode</span></pre></dt>
<dd>

Type for specifying if an encoding shall be unique or convergent. See <a class="reference external" href="https://eris.codeberg.page/spec/#section-2.3">section 2.3</a> for an explaination of encoding modes.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L72"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="Operation">
<dt><pre><a href="eris.html#Operation"><span class="Identifier">Operation</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">Get</span><span class="Other">,</span> <span class="Identifier">Put</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L447"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="Operations">
<dt><pre><a href="eris.html#Operations"><span class="Identifier">Operations</span></a> <span class="Other">=</span> <span class="Identifier">set</span><span class="Other">[</span><a href="eris.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L448"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="Reference">
<dt><pre><a href="eris.html#Reference"><span class="Identifier">Reference</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">bytes</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">32</span><span class="Other">,</span> <span class="Identifier">byte</span><span class="Other">]</span>
</pre></dt>
<dd>

Reference to an encrypted chunk.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L83"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="Secret">
<dt><pre><a href="eris.html#Secret"><span class="Identifier">Secret</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">bytes</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">32</span><span class="Other">,</span> <span class="Identifier">byte</span><span class="Other">]</span>
</pre></dt>
<dd>

Secret for salting a <tt class="docutils literal"><span class="pre"><span class="Identifier">Key</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L87"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="TreeLevel">
<dt><pre><a href="eris.html#TreeLevel"><span class="Identifier">TreeLevel</span></a> <span class="Other">=</span> <span class="Identifier">uint8</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L82"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<div id="erisCborTag">
<dt><pre><a href="eris.html#erisCborTag"><span class="Identifier">erisCborTag</span></a> <span class="Other">=</span> <span class="DecNumber">276</span></pre></dt>
<dd>

CBOR tag for ERIS binary read capabilities. <a class="reference external" href="https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml">https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml</a>
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L67"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<div id="$_2">
<dt><pre><span class="Keyword">proc</span> <a href="#%24_2"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">cap</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Encode a <tt class="docutils literal"><span class="pre">ErisCap</span></tt> to standard URN form. <a class="reference external" href="https://inqlab.net/projects/eris/#_urn">https://inqlab.net/projects/eris/#_urn</a>
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L178"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="$_3">
<dt><pre><span class="Keyword">proc</span> <a href="#%24_3"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L459"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="$">
<dt><pre><span class="Keyword">proc</span> <a href="#%24"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a> <span class="Operator">|</span> <a href="eris.html#Key"><span class="Identifier">Key</span></a> <span class="Operator">|</span> <a href="eris.html#Secret"><span class="Identifier">Secret</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>

Encode to Base32.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L144"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="*,T,ChunkSize">
<dt><pre><span class="Keyword">func</span> <a href="#%2A%2CT%2CChunkSize"><span class="Identifier">`*`</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeUnsignedInt</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">;</span> <span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
<dd>

Convenience function to multiply an integer by a <tt class="docutils literal"><span class="pre"><span class="Identifier">ChunkSize</span></span></tt> value.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L119"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="==,ErisCap,ErisCap">
<dt><pre><span class="Keyword">proc</span> <a href="#%3D%3D%2CErisCap%2CErisCap"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">,</span> <span class="Identifier">y</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L148"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="div,T,ChunkSize">
<dt><pre><span class="Keyword">func</span> <a href="#div%2CT%2CChunkSize"><span class="Identifier">`div`</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeUnsignedInt</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">;</span> <span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
<dd>

Convenience function to divide an integer by a <tt class="docutils literal"><span class="pre"><span class="Identifier">ChunkSize</span></span></tt> value.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L125"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ref,FutureBlock">
<dt><pre><span class="Keyword">proc</span> <a href="#ref%2CFutureBlock"><span class="Identifier">`ref`</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L312"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="addCallback,FutureBlock,proc)">
<dt><pre><span class="Keyword">proc</span> <a href="#addCallback%2CFutureBlock%2Cproc%29"><span class="Identifier">addCallback</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span> {.<span class="Identifier">closure</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span></span>.}<span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Add a callback to a <tt class="docutils literal"><span class="pre"><span class="Identifier">FutureBlock</span></span></tt>. Callbacks are called last-in-first-out when <tt class="docutils literal"><span class="pre"><span class="Identifier">complete</span></span></tt> is called on <tt class="docutils literal"><span class="pre"><span class="Identifier">blk</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L246"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="addCallback,Future,FutureBlock,proc)">
<dt><pre><span class="Keyword">proc</span> <a href="#addCallback%2CFuture%2CFutureBlock%2Cproc%29"><span class="Identifier">addCallback</span></a><span class="Other">(</span><span class="Identifier">fut</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">;</span> <span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">cb</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span> {.<span class="Identifier">closure</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span></span>.}<span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L282"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="append,ErisIngest,">
<dt><pre><span class="Keyword">proc</span> <a href="#append%2CErisIngest%2C"><span class="Identifier">append</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Operator">|</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span>
    <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>

Ingest content.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L817"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="append,ErisIngest,Stream">
<dt><pre><span class="Keyword">proc</span> <a href="#append%2CErisIngest%2CStream"><span class="Identifier">append</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">;</span> <span class="Identifier">stream</span><span class="Other">:</span> <span class="Identifier">Stream</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Ingest content from a <tt class="docutils literal"><span class="pre"><span class="Identifier">Stream</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L832"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="arity,ChunkSize">
<dt><pre><span class="Keyword">func</span> <a href="#arity%2CChunkSize"><span class="Identifier">arity</span></a><span class="Other">(</span><span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L105"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="assertVerified,FutureBlock">
<dt><pre><span class="Keyword">proc</span> <a href="#assertVerified%2CFutureBlock"><span class="Identifier">assertVerified</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L243"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="atEnd,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#atEnd%2CErisStream"><span class="Identifier">atEnd</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Check if an <tt class="docutils literal"><span class="pre">ErisStream</span></tt> is positioned at its end. May return false negatives.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L581"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="buffer,FutureBlock">
<dt><pre><span class="Keyword">func</span> <a href="#buffer%2CFutureBlock"><span class="Identifier">buffer</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">pointer</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L317"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="bytes">
<dt><pre><span class="Keyword">proc</span> <a href="#bytes"><span class="Identifier">bytes</span></a><span class="Other">(</span><span class="Identifier">cap</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Binary encoding of the read-capability.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L167"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="cap,ErisIngest">
<dt><pre><span class="Keyword">proc</span> <a href="#cap%2CErisIngest"><span class="Identifier">cap</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Derive the <tt class="docutils literal"><span class="pre">ErisCap</span></tt> of <tt class="docutils literal"><span class="pre">ingest</span></tt>. The state of <tt class="docutils literal"><span class="pre"><span class="Identifier">ingest</span></span></tt> is afterwards invalid until <tt class="docutils literal"><span class="pre"><span class="Identifier">reinit</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">reopen</span></span></tt> is called.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L853"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="cap,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#cap%2CErisStream"><span class="Identifier">cap</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L557"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="chunkSize,FutureBlock">
<dt><pre><span class="Keyword">func</span> <a href="#chunkSize%2CFutureBlock"><span class="Identifier">chunkSize</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L315"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="chunkSize,ErisIngest">
<dt><pre><span class="Keyword">proc</span> <a href="#chunkSize%2CErisIngest"><span class="Identifier">chunkSize</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L784"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="close,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#close%2CErisStream"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Release the resources of an <tt class="docutils literal"><span class="pre">ErisStream</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L551"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="complete,FutureBlock">
<dt><pre><span class="Keyword">proc</span> <a href="#complete%2CFutureBlock"><span class="Identifier">complete</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Complete a <tt class="docutils literal"><span class="pre"><span class="Identifier">FutureBlock</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L341"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="complete,FutureGet,sinkseq[byte]">
<dt><pre><span class="Keyword">proc</span> <a href="#complete%2CFutureGet%2Csinkseq%5Bbyte%5D"><span class="Identifier">complete</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Identifier">sink</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">status</span> <span class="Other">=</span> <span class="Identifier">unknown</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L357"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="complete,FutureGet,pointer,Natural">
<dt><pre><span class="Keyword">proc</span> <a href="#complete%2CFutureGet%2Cpointer%2CNatural"><span class="Identifier">complete</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a><span class="Other">;</span> <span class="Identifier">src</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">;</span> <span class="Identifier">len</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">;</span> <span class="Identifier">status</span> <span class="Other">=</span> <span class="Identifier">unknown</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Complete a <tt class="docutils literal"><span class="pre"><span class="Identifier">Get</span></span></tt> <tt class="docutils literal"><span class="pre"><span class="Identifier">FutureBlock</span></span></tt> with the chunk at <tt class="docutils literal"><span class="pre"><span class="Identifier">src</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L349"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="complete,FutureGet,openArray[T]">
<dt><pre><span class="Keyword">proc</span> <a href="#complete%2CFutureGet%2CopenArray%5BT%5D"><span class="Identifier">complete</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">byte</span> <span class="Operator">|</span> <span class="Identifier">char</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                              <span class="Identifier">status</span> <span class="Other">=</span> <span class="Identifier">unknown</span><span class="Other">)</span> {.<span class="Identifier">inline</span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L364"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="copy,FutureBlock,pointer,Natural">
<dt><pre><span class="Keyword">proc</span> <a href="#copy%2CFutureBlock%2Cpointer%2CNatural"><span class="Identifier">copy</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">dst</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">;</span> <span class="Identifier">len</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Copy chunk data out of a <tt class="docutils literal"><span class="pre"><span class="Identifier">FutureBlock</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L371"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="decode,,">
<dt><pre><span class="Keyword">proc</span> <a href="#decode%2C%2C"><span class="Identifier">decode</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Asynchronously decode <tt class="docutils literal"><span class="pre">cap</span></tt> from <tt class="docutils literal"><span class="pre">store</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L699"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="dump,ErisStream,Stream">
<dt><pre><span class="Keyword">proc</span> <a href="#dump%2CErisStream%2CStream"><span class="Identifier">dump</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">;</span> <span class="Identifier">stream</span><span class="Other">:</span> <span class="Identifier">Stream</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L678"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="encode,,ChunkSize,Stream">
<dt><pre><span class="Keyword">proc</span> <a href="#encode%2C%2CChunkSize%2CStream"><span class="Identifier">encode</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">chunkSize</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">;</span> <span class="Identifier">content</span><span class="Other">:</span> <span class="Identifier">Stream</span><span class="Other">;</span> <span class="Identifier">mode</span> <span class="Other">=</span> <span class="Identifier">uniqueMode</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Asychronously encode <tt class="docutils literal"><span class="pre">content</span></tt> into <tt class="docutils literal"><span class="pre">store</span></tt> and derive its <tt class="docutils literal"><span class="pre">ErisCap</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L883"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="encode,,ChunkSize,Stream,Secret">
<dt><pre><span class="Keyword">proc</span> <a href="#encode%2C%2CChunkSize%2CStream%2CSecret"><span class="Identifier">encode</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">chunkSize</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">;</span> <span class="Identifier">content</span><span class="Other">:</span> <span class="Identifier">Stream</span><span class="Other">;</span> <span class="Identifier">secret</span><span class="Other">:</span> <a href="eris.html#Secret"><span class="Identifier">Secret</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Asychronously encode <tt class="docutils literal"><span class="pre">content</span></tt> into <tt class="docutils literal"><span class="pre">store</span></tt> and derive its <tt class="docutils literal"><span class="pre">ErisCap</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L876"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="encode,,ChunkSize,string">
<dt><pre><span class="Keyword">proc</span> <a href="#encode%2C%2CChunkSize%2Cstring"><span class="Identifier">encode</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">chunkSize</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">;</span> <span class="Identifier">content</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">mode</span> <span class="Other">=</span> <span class="Identifier">uniqueMode</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Asychronously encode <tt class="docutils literal"><span class="pre">content</span></tt> into <tt class="docutils literal"><span class="pre">store</span></tt> and derive its <tt class="docutils literal"><span class="pre">ErisCap</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L906"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="encode,,Stream">
<dt><pre><span class="Keyword">proc</span> <a href="#encode%2C%2CStream"><span class="Identifier">encode</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">content</span><span class="Other">:</span> <span class="Identifier">Stream</span><span class="Other">;</span> <span class="Identifier">mode</span> <span class="Other">=</span> <span class="Identifier">uniqueMode</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Asychronously encode <tt class="docutils literal"><span class="pre">content</span></tt> into <tt class="docutils literal"><span class="pre">store</span></tt> and derive its <tt class="docutils literal"><span class="pre">ErisCap</span></tt>. The chunk size is 1KiB unless the content is at least 16KiB.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L893"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="erisCap,string,ChunkSize">
<dt><pre><span class="Keyword">proc</span> <a href="#erisCap%2Cstring%2CChunkSize"><span class="Identifier">erisCap</span></a><span class="Other">(</span><span class="Identifier">content</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">chunkSize</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Derive a convergent <tt class="docutils literal"><span class="pre">ErisCap</span></tt> for <tt class="docutils literal"><span class="pre">content</span></tt>.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Identifier">assert</span><span class="Punctuation">:</span>
  <span class="Operator">$</span><span class="Identifier">erisCap</span><span class="Punctuation">(</span><span class="StringLit">&quot;Hello world!&quot;</span><span class="Punctuation">,</span> <span class="Identifier">bs1k</span><span class="Punctuation">)</span> <span class="Operator">==</span>
    <span class="StringLit">&quot;urn:eris:BIAD77QDJMFAKZYH2DXBUZYAP3MXZ3DJZVFYQ5DFWC6T65WSFCU5S2IT4YZGJ7AC4SYQMP2DM2ANS2ZTCP3DJJIRV733CRAAHOSWIYZM3M&quot;</span></pre>
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L910"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="fail,FutureBlock,ref.Exception">
<dt><pre><span class="Keyword">proc</span> <a href="#fail%2CFutureBlock%2Cref.Exception"><span class="Identifier">fail</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Exception</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L367"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="failed,FutureBlock">
<dt><pre><span class="Keyword">func</span> <a href="#failed%2CFutureBlock"><span class="Identifier">failed</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L310"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="fromBase32,T,string">
<dt><pre><span class="Keyword">proc</span> <a href="#fromBase32%2CT%2Cstring"><span class="Identifier">fromBase32</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a> <span class="Operator">|</span> <a href="eris.html#Key"><span class="Identifier">Key</span></a> <span class="Operator">|</span> <a href="eris.html#Secret"><span class="Identifier">Secret</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">v</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">T</span><span class="Other">;</span> <span class="Identifier">s</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L183"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="get,,Pair,TreeLevel,ChunkSize">
<dt><pre><span class="Keyword">proc</span> <a href="#get%2C%2CPair%2CTreeLevel%2CChunkSize"><span class="Identifier">get</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">pair</span><span class="Other">:</span> <span class="Identifier">Pair</span><span class="Other">;</span> <span class="Identifier">level</span><span class="Other">:</span> <a href="eris.html#TreeLevel"><span class="Identifier">TreeLevel</span></a><span class="Other">;</span> <span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L487"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="get,,Reference,FutureGet">
<dt><pre><span class="Keyword">proc</span> <a href="#get%2C%2CReference%2CFutureGet"><span class="Identifier">get</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">ref</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">;</span> <span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L466"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="getAll,ErisStore,ErisCap">
<dt><pre><span class="Keyword">proc</span> <a href="#getAll%2CErisStore%2CErisCap"><span class="Identifier">getAll</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Get all chunks that constitute <tt class="docutils literal"><span class="pre"><span class="Identifier">cap</span></span></tt> from <tt class="docutils literal"><span class="pre"><span class="Identifier">store</span></span></tt>. No data is returned, this procedure is for ensuring that all chunks are present at some store.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L952"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="getBlock,ErisStore,Reference">
<dt><pre><span class="Keyword">proc</span> <a href="#getBlock%2CErisStore%2CReference"><span class="Identifier">getBlock</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">ref</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">deprecated</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>
  <div class="deprecation-message">
    <b>Deprecated</b> 
  </div>

This requests a small chunk and with a fallback to a large chunk. Do not use it.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L480"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="getPosition,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#getPosition%2CErisStream"><span class="Identifier">getPosition</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">BiggestUInt</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Return the position of an <tt class="docutils literal"><span class="pre">ErisStream</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L591"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="hash">
<dt><pre><span class="Keyword">proc</span> <a href="#hash"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">cap</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L155"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="hash,Reference">
<dt><pre><span class="Keyword">proc</span> <a href="#hash%2CReference"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">r</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Reduce a <tt class="docutils literal"><span class="pre"><span class="Identifier">Reference</span></span></tt> to a <tt class="docutils literal"><span class="pre"><span class="Identifier">Hash</span></span></tt> value.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L150"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="length,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#length%2CErisStream"><span class="Identifier">length</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">BiggestUInt</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Estimate the length of an <tt class="docutils literal"><span class="pre">ErisStream</span></tt>. The result is the length of <tt class="docutils literal"><span class="pre">s</span></tt> rounded up to the next chunk boundary.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L605"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="loadBlock,ErisStream,BiggestUInt">
<dt><pre><span class="Keyword">proc</span> <a href="#loadBlock%2CErisStream%2CBiggestUInt"><span class="Identifier">loadBlock</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">;</span> <span class="Identifier">bNum</span><span class="Other">:</span> <span class="Identifier">BiggestUInt</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L595"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="moveBytes,FutureBlock">
<dt><pre><span class="Keyword">proc</span> <a href="#moveBytes%2CFutureBlock"><span class="Identifier">moveBytes</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Move the <tt class="docutils literal"><span class="pre"><span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">byte</span><span class="Punctuation">]</span></span></tt> out of a <tt class="docutils literal"><span class="pre"><span class="Identifier">FutureBlock</span></span></tt>. This is only safe to use in the first callback added to <tt class="docutils literal"><span class="pre"><span class="Identifier">blk</span></span></tt> because it will be called last.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L382"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newDiscardStore">
<dt><pre><span class="Keyword">proc</span> <a href="#newDiscardStore"><span class="Identifier">newDiscardStore</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#DiscardStore"><span class="Identifier">DiscardStore</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Create an <tt class="docutils literal"><span class="pre">ErisStore</span></tt> that discards writes and fails to read.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L529"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newErisIngest,ErisStore">
<dt><pre><span class="Keyword">proc</span> <a href="#newErisIngest%2CErisStore"><span class="Identifier">newErisIngest</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">chunkSize</span> <span class="Other">=</span> <span class="Identifier">bs32k</span><span class="Other">;</span> <span class="Identifier">mode</span> <span class="Other">=</span> <span class="Identifier">uniqueMode</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Create a new <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisIngest</span></span></tt> object. If <tt class="docutils literal"><span class="pre"><span class="Identifier">mode</span></span></tt> is <tt class="docutils literal"><span class="pre"><span class="Identifier">uniqueMode</span></span></tt> then a random convergence secret will be generated using entropy from the operating system. For <tt class="docutils literal"><span class="pre"><span class="Identifier">convergentMode</span></span></tt> a zero-secret will be used and the encoding will be deterministic and reproducible.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L726"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newErisIngest,ErisStore,Secret">
<dt><pre><span class="Keyword">proc</span> <a href="#newErisIngest%2CErisStore%2CSecret"><span class="Identifier">newErisIngest</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">chunkSize</span> <span class="Other">=</span> <span class="Identifier">bs32k</span><span class="Other">;</span> <span class="Identifier">secret</span><span class="Other">:</span> <a href="eris.html#Secret"><span class="Identifier">Secret</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Create a new <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisIngest</span></span></tt> object.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L717"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newErisStream,,">
<dt><pre><span class="Keyword">proc</span> <a href="#newErisStream%2C%2C"><span class="Identifier">newErisStream</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span> <span class="Identifier">ErisStream</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Open a new stream for reading ERIS data.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L545"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newFutureGet,ChunkSize">
<dt><pre><span class="Keyword">proc</span> <a href="#newFutureGet%2CChunkSize"><span class="Identifier">newFutureGet</span></a><span class="Other">(</span><span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L289"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newFutureGet,Reference,ChunkSize">
<dt><pre><span class="Keyword">proc</span> <a href="#newFutureGet%2CReference%2CChunkSize"><span class="Identifier">newFutureGet</span></a><span class="Other">(</span><span class="Identifier">ref</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">;</span> <span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L292"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newFuturePut,ChunkSize">
<dt><pre><span class="Keyword">proc</span> <a href="#newFuturePut%2CChunkSize"><span class="Identifier">newFuturePut</span></a><span class="Other">(</span><span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#FuturePut"><span class="Identifier">FuturePut</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L295"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newFuturePut,Reference,ChunkSize">
<dt><pre><span class="Keyword">proc</span> <a href="#newFuturePut%2CReference%2CChunkSize"><span class="Identifier">newFuturePut</span></a><span class="Other">(</span><span class="Identifier">ref</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">;</span> <span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#FuturePut"><span class="Identifier">FuturePut</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L298"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="newFuturePut,openArray[T]">
<dt><pre><span class="Keyword">proc</span> <a href="#newFuturePut%2CopenArray%5BT%5D"><span class="Identifier">newFuturePut</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">byte</span> <span class="Operator">|</span> <span class="Identifier">char</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">buffer</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#FuturePut"><span class="Identifier">FuturePut</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L301"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="notFound,FutureBlock,string">
<dt><pre><span class="Keyword">proc</span> <a href="#notFound%2CFutureBlock%2Cstring"><span class="Identifier">notFound</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">msg</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Fail <tt class="docutils literal"><span class="pre"><span class="Identifier">f</span></span></tt> with a <tt class="docutils literal"><span class="pre"><span class="Identifier">KeyError</span></span></tt> exception.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L378"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="padToNextBlock,ErisIngest,uint8">
<dt><pre><span class="Keyword">proc</span> <a href="#padToNextBlock%2CErisIngest%2Cuint8"><span class="Identifier">padToNextBlock</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">;</span> <span class="Identifier">pad</span> <span class="Other">=</span> <span class="DecNumber">0x80'u8</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Pad the ingest stream with <tt class="docutils literal"><span class="pre"><span class="HexNumber">0x80</span></span></tt> until the start of the next chunk.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L845"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="parseCap,openArray[T]">
<dt><pre><span class="Keyword">proc</span> <a href="#parseCap%2CopenArray%5BT%5D"><span class="Identifier">parseCap</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">char</span> <span class="Operator">|</span> <span class="Identifier">byte</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">bin</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L191"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="parseErisUrn,string">
<dt><pre><span class="Keyword">proc</span> <a href="#parseErisUrn%2Cstring"><span class="Identifier">parseErisUrn</span></a><span class="Other">(</span><span class="Identifier">urn</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Decode a URN to a <tt class="docutils literal"><span class="pre">ErisCap</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L204"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="position,ErisIngest">
<dt><pre><span class="Keyword">proc</span> <a href="#position%2CErisIngest"><span class="Identifier">position</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">BiggestUInt</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Get the current append position of <tt class="docutils literal"><span class="pre">ingest</span></tt>. This is same as the number of bytes appended.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L786"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="read,ErisStream,int">
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CErisStream%2Cint"><span class="Identifier">read</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L637"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="readAll,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#readAll%2CErisStream"><span class="Identifier">readAll</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Reads all data from the specified <tt class="docutils literal"><span class="pre">ErisStream</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L669"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="readBuffer,ErisStream,pointer,int">
<dt><pre><span class="Keyword">proc</span> <a href="#readBuffer%2CErisStream%2Cpointer%2Cint"><span class="Identifier">readBuffer</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">;</span> <span class="Identifier">buffer</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">;</span> <span class="Identifier">bufLen</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L615"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="readDataStr,ErisStream,string,Slice[int]">
<dt><pre><span class="Keyword">proc</span> <a href="#readDataStr%2CErisStream%2Cstring%2CSlice%5Bint%5D"><span class="Identifier">readDataStr</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">;</span> <span class="Identifier">buffer</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">slice</span><span class="Other">:</span> <span class="Identifier">Slice</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <span class="Identifier">int</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L666"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="readLine,ErisStream">
<dt><pre><span class="Keyword">proc</span> <a href="#readLine%2CErisStream"><span class="Identifier">readLine</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L643"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="recommendedChunkSize,Natural">
<dt><pre><span class="Keyword">func</span> <a href="#recommendedChunkSize%2CNatural"><span class="Identifier">recommendedChunkSize</span></a><span class="Other">(</span><span class="Identifier">dataLength</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Return the recommended <tt class="docutils literal"><span class="pre"><span class="Identifier">ChunkSize</span></span></tt> for encoding data of the given length. The current implementation selects 1KiB chunks for lengths less than 16KiB otherwise 32KiB. The reasoning is that anything less 16KiB is encoded in a tree with a depth of no more than two chunk. A 16KiB chunk would waste nearly half of a 32KiB chunk but only requires a single chunk to be fetched, whereas 16KiB-1 rould require 17 chunk requests. The behavior of this function is not guaranted to remain constant and because of storage efficiency and latency tradeoffs may not yield the best choice for all applications.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L131"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="ref=,FutureBlock,Reference">
<dt><pre><span class="Keyword">proc</span> <a href="#ref%3D%2CFutureBlock%2CReference"><span class="Identifier">ref=</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L313"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="reference,openArray[T]">
<dt><pre><span class="Keyword">proc</span> <a href="#reference%2CopenArray%5BT%5D"><span class="Identifier">reference</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">byte</span> <span class="Operator">|</span> <span class="Identifier">char</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a></pre></dt>
<dd>

Derive the <tt class="docutils literal"><span class="pre"><span class="Identifier">Reference</span></span></tt> for a 1KiB or 32KiB buffer.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L159"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="references,ErisStore,ErisCap">
<dt><pre><span class="Keyword">proc</span> <a href="#references%2CErisStore%2CErisCap"><span class="Identifier">references</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">HashSet</span><span class="Other">[</span><a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">]</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Collect the set of <tt class="docutils literal"><span class="pre"><span class="Identifier">Reference</span></span></tt>s that constitute an <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisCap</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L942"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="reinit,ErisIngest">
<dt><pre><span class="Keyword">proc</span> <a href="#reinit%2CErisIngest"><span class="Identifier">reinit</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Re-initialize an <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisIngest</span></span></tt> object.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L739"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="reopen,ErisIngest,ErisCap">
<dt><pre><span class="Keyword">proc</span> <a href="#reopen%2CErisIngest%2CErisCap"><span class="Identifier">reopen</span></a><span class="Other">(</span><span class="Identifier">ingest</span><span class="Other">:</span> <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Re-open an <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisIngest</span></span></tt> for appending to an <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisCap</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L747"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="reopenErisIngest,ErisStore,ErisCap">
<dt><pre><span class="Keyword">proc</span> <a href="#reopenErisIngest%2CErisStore%2CErisCap"><span class="Identifier">reopenErisIngest</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">;</span> <span class="Identifier">mode</span> <span class="Other">=</span> <span class="Identifier">uniqueMode</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Re-open a <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisCap</span></span></tt> for appending.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L774"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="reopenErisIngest,ErisStore,ErisCap,Secret">
<dt><pre><span class="Keyword">proc</span> <a href="#reopenErisIngest%2CErisStore%2CErisCap%2CSecret"><span class="Identifier">reopenErisIngest</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">:</span> <a href="eris.html#ErisStore"><span class="Identifier">ErisStore</span></a><span class="Other">;</span> <span class="Identifier">cap</span><span class="Other">:</span> <a href="eris.html#ErisCap"><span class="Identifier">ErisCap</span></a><span class="Other">;</span> <span class="Identifier">secret</span><span class="Other">:</span> <a href="eris.html#Secret"><span class="Identifier">Secret</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="eris.html#ErisIngest"><span class="Identifier">ErisIngest</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Re-open a <tt class="docutils literal"><span class="pre"><span class="Identifier">ErisCap</span></span></tt> for appending.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L767"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="setPosition,ErisStream,BiggestUInt">
<dt><pre><span class="Keyword">proc</span> <a href="#setPosition%2CErisStream%2CBiggestUInt"><span class="Identifier">setPosition</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="eris.html#ErisStream"><span class="Identifier">ErisStream</span></a><span class="Other">;</span> <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">BiggestUInt</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Seek an <tt class="docutils literal"><span class="pre">ErisStream</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L585"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="toBase32">
<dt><pre><span class="Keyword">func</span> <a href="#toBase32"><span class="Identifier">toBase32</span></a><span class="Other">(</span><span class="Identifier">cap</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L175"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="toByte,ChunkSize">
<dt><pre><span class="Keyword">func</span> <a href="#toByte%2CChunkSize"><span class="Identifier">toByte</span></a><span class="Other">(</span><span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint8</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L107"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="toBytes,FutureBlock">
<dt><pre><span class="Keyword">proc</span> <a href="#toBytes%2CFutureBlock"><span class="Identifier">toBytes</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L389"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="toChar,ChunkSize">
<dt><pre><span class="Keyword">func</span> <a href="#toChar%2CChunkSize"><span class="Identifier">toChar</span></a><span class="Other">(</span><span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">char</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L112"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="verified,FutureBlock">
<dt><pre><span class="Keyword">func</span> <a href="#verified%2CFutureBlock"><span class="Identifier">verified</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L321"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="verify,FutureBlock">
<dt><pre><span class="Keyword">proc</span> <a href="#verify%2CFutureBlock"><span class="Identifier">verify</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">discardable</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Verify that <tt class="docutils literal"><span class="pre"><span class="Identifier">blk</span></span></tt> corresponds to <tt class="docutils literal"><span class="pre"><span class="Keyword">ref</span></span></tt> and set the chunk error otherwise.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L323"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="verify,FutureBlock,Reference">
<dt><pre><span class="Keyword">proc</span> <a href="#verify%2CFutureBlock%2CReference"><span class="Identifier">verify</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">ref</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">discardable</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">deprecated</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>
  <div class="deprecation-message">
    <b>Deprecated</b> 
  </div>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L337"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>

</dl></div>
<div class="section" id="14">
<h1><a class="toc-backref" href="#14">Methods</a></h1>
<dl class="item">
<div id="close.e">
<dt><pre><span class="Keyword">method</span> <a href="#close.e"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">)</span> {.<span class="Identifier">base</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Method for closing a <tt class="docutils literal"><span class="pre"><span class="Identifier">Store</span></span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L517"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="get.e,,FutureGet">
<dt><pre><span class="Keyword">method</span> <a href="#get.e%2C%2CFutureGet"><span class="Identifier">get</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureGet"><span class="Identifier">FutureGet</span></a><span class="Other">)</span> {.<span class="Identifier">base</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Method for getting a chunk from a <tt class="docutils literal"><span class="pre">Store</span></tt>. The result is not decrypted but should be verified.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L461"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="hasBlock.e,,Reference,ChunkSize">
<dt><pre><span class="Keyword">method</span> <a href="#hasBlock.e%2C%2CReference%2CChunkSize"><span class="Identifier">hasBlock</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <a href="eris.html#Reference"><span class="Identifier">Reference</span></a><span class="Other">;</span> <span class="Identifier">bs</span><span class="Other">:</span> <a href="eris.html#ChunkSize"><span class="Identifier">ChunkSize</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">bool</span><span class="Other">]</span> {.<span class="Identifier">base</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Test if <tt class="docutils literal"><span class="pre"><span class="Identifier">store</span></span></tt> has a chunk for a <tt class="docutils literal"><span class="pre"><span class="Identifier">Reference</span></span></tt>. For some stores this is cheaper than retrieving a chunk.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L503"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="id.e">
<dt><pre><span class="Keyword">method</span> <a href="#id.e"><span class="Identifier">id</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span class="Identifier">base</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Get an <tt class="docutils literal"><span class="pre"><span class="Identifier">id</span></span></tt> for <tt class="docutils literal"><span class="pre"><span class="Identifier">store</span></span></tt>. Should be unique within a running program.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L455"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="put.e,,FuturePut">
<dt><pre><span class="Keyword">method</span> <a href="#put.e%2C%2CFuturePut"><span class="Identifier">put</span></a><span class="Other">(</span><span class="Identifier">store</span><span class="Other">;</span> <span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FuturePut"><span class="Identifier">FuturePut</span></a><span class="Other">)</span> {.<span class="Identifier">base</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Method for putting an encrypted chunk to a <tt class="docutils literal"><span class="pre">Store</span></tt>.
&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L499"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<div id="asFuture.t,FutureBlock">
<dt><pre><span class="Keyword">template</span> <a href="#asFuture.t%2CFutureBlock"><span class="Identifier">asFuture</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L274"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>
<div id="asFuture.t,FutureBlock,untyped">
<dt><pre><span class="Keyword">template</span> <a href="#asFuture.t%2CFutureBlock%2Cuntyped"><span class="Identifier">asFuture</span></a><span class="Other">(</span><span class="Identifier">blk</span><span class="Other">:</span> <a href="eris.html#FutureBlock"><span class="Identifier">FutureBlock</span></a><span class="Other">;</span> <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://codeberg.org/eris/nim-eris/src/commit/4c6bc1a/src/eris.nim#L262"
class="link-seesrc" target="_blank">Source</a>

</dd>
</div>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2022-11-16 18:28:10 UTC</small>
      </div>
    </div>
  </div>
</div>
</body>
</html>
